<!DOCTYPE html>
<html>
<head>
  <title>Labour Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header><h2>Labour OTP Login</h2></header>

<div class="card">
  <input id="phone" placeholder="+91XXXXXXXXXX">
  <div id="recaptcha-container"></div>
  <button onclick="sendOTP()">Send OTP</button>

  <input id="otp" placeholder="Enter OTP">
  <button onclick="verifyOTP()">Verify OTP</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="script.js"></script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
  <title>Labour Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header><h2>Labour Dashboard</h2></header>

<div class="card">
  <input id="shop" placeholder="àª¦à«àª•àª¾àª¨ àª¨àª¾àª®">
  <input id="work" placeholder="àª•àª¾àª® àªµàª¿àª—àª¤">
  <button onclick="saveWork()">Save Work</button>
</div>

<div class="card">
  <h3>àª®àª¾àª°àª¾ àª•àª¾àª®</h3>
  <ul id="list"></ul>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="script.js"></script>
</body>
</html>
body { font-family: Arial; background:#f2f2f2; }
header { background:#2e7d32; color:white; padding:10px; text-align:center; }
.card { background:white; padding:15px; margin:20px; border-radius:8px; }
input, button { width:100%; padding:10px; margin:5px 0; }
button { background:#2e7d32; color:white; border:none; }
// ðŸ”´ PASTE YOUR FIREBASE CONFIG HERE
const firebaseConfig = {
  apiKey: "API_KEY",
  authDomain: "PROJECT_ID.firebaseapp.com",
  databaseURL: "https://PROJECT_ID-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "PROJECT_ID",
};

firebase.initializeApp(firebaseConfig);

// ðŸ” OTP LOGIN
const auth = firebase.auth();
window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(
  'recaptcha-container',
  { size: 'normal' }
);

function sendOTP() {
  const phone = document.getElementById("phone").value;
  auth.signInWithPhoneNumber(phone, window.recaptchaVerifier)
    .then((confirmationResult) => {
      window.confirmationResult = confirmationResult;
      alert("OTP Sent");
    })
    .catch(err => alert(err.message));
}

function verifyOTP() {
  const otp = document.getElementById("otp").value;
  window.confirmationResult.confirm(otp)
    .then((result) => {
      localStorage.setItem("uid", result.user.uid);
      window.location.href = "labour.html";
    })
    .catch(() => alert("Wrong OTP"));
}

// ðŸ’¾ SAVE WORK
function saveWork() {
  const uid = localStorage.getItem("uid");
  const shop = document.getElementById("shop").value;
  const work = document.getElementById("work").value;

  firebase.database().ref("labours/" + uid).push({
    shop: shop,
    work: work,
    time: Date.now()
  });

  alert("Work Saved");
}
